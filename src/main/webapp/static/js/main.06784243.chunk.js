(this["webpackJsonpwbdv-20sum1-lee-clayberg-project-react"]=this["webpackJsonpwbdv-20sum1-lee-clayberg-project-react"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/ComicStack.651f7d97.png"},24:function(e,t,a){e.exports=a(47)},29:function(e,t,a){},30:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(22),i=a.n(r),c=(a(29),a(30),a(5)),l=a(6),o=a(8),m=a(7),d=a(10),u=a(1),h=function(e){Object(o.a)(s,e);var t=Object(m.a)(s);function s(){var e;Object(c.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={searchString:""},e.updateSearchString=function(t){return e.setState((function(e){return{searchString:t}}))},e}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return n.a.createElement("span",{className:"fixed-top"},n.a.createElement("div",{className:"wbdv-long-blank"}),n.a.createElement("div",{className:"wbdv-long-bar"},n.a.createElement("div",{className:"row wbdv-top-bar-height"},n.a.createElement("div",{className:"col-3 wbdv-top-bar-height"},n.a.createElement("img",{className:"d-lg-none wbdv-small_logo align-middle",src:a(18),alt:"Card image cap"}),n.a.createElement("div",{className:"d-none d-lg-block wbdv-logo-section"},n.a.createElement("img",{className:"wbdv-logo align-middle",src:a(18),alt:"Card image cap"}))),n.a.createElement("div",{className:"col-7 col-md-6 wbdv-top-bar-height"},n.a.createElement("div",{className:"input-group wbdv-search-group"},n.a.createElement("input",{type:"text",className:"form-control wbdv-search-bar",placeholder:"Search",onChange:function(t){return e.updateSearchString(t.target.value)},value:this.state.searchString}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement(d.b,{to:"/search/".concat(this.state.searchString)},n.a.createElement("span",{className:"btn input-group-text wbdv-search-button",id:"basic-addon1"},n.a.createElement("i",{className:"fa fa-search fa-lg wbdv-search-icon"})))))),n.a.createElement("div",{className:"col-2 col-md-3 wbdv-top-bar-height"},n.a.createElement("div",{className:"d-none d-md-block wbdv-profile-text font-weight-bold"},"Account"),n.a.createElement("div",{className:"wbdv-profile-img"},n.a.createElement("i",{className:"fa fa-user fa-2x wbdv-user-icon"}))))))}}]),s}(n.a.Component),v=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"col mb-4"},n.a.createElement(d.b,{to:"/issue/".concat(this.props.issue.id)},n.a.createElement("div",{className:"card"},n.a.createElement("img",{className:"card-img-top wbdv-card-img",src:this.props.issue.image.super_url,alt:"Card image cap"}),n.a.createElement("div",{className:"row card-body font-weight-bold text-truncate"},null!==this.props.issue.name?this.props.issue.name:this.props.issue.volume.name+" #"+this.props.issue.issue_number,n.a.createElement("div",{className:"card-date text-right"},this.props.issue.cover_date)))))}}]),a}(n.a.Component),p=function(e,t){return fetch("https://cv-proxy.herokuapp.com/https://comicvine.gamespot.com/api/search/?api_key=609b66edd3d828492cadbe8b2cc825f2d712aaef&sortBy=name:asc&resources=issue&format=json&limit=12&page="+t+"&query="+e).then((function(e){return e.json()}))},b=function(e){return fetch("https://cv-proxy.herokuapp.com/https://comicvine.gamespot.com/api/issue/4000-"+e+"/?api_key=609b66edd3d828492cadbe8b2cc825f2d712aaef&format=json").then((function(e){return e.json()}))},w=function(e){var t=JSON.parse(JSON.stringify(e.cover_date)),a=new Date(t),s=new Date(t);s.setFullYear(a.getFullYear()-1);var n=new Date(t);return n.setFullYear(a.getFullYear()+1),fetch("https://cv-proxy.herokuapp.com/https://comicvine.gamespot.com/api/issues/?api_key=609b66edd3d828492cadbe8b2cc825f2d712aaef&format=json&limit=5&filter=volume:"+e.volume.id+",cover_date:"+s.toISOString().substring(0,10)+"|"+n.toISOString().substring(0,10)).then((function(e){return e.json()}))},g=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={issues:[],page:1,pageCount:1},e.search=function(t){return p(e.props.match.params.query,t).then((function(a){return e.setState({page:t,pageCount:Math.min(Math.floor(a.number_of_total_results/a.limit),833),issues:a.results})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.search(this.state.page)}},{key:"componentDidUpdate",value:function(e,t,a){e.match.params.query!==this.props.match.params.query&&this.search(1)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"wbdv-search-area"},n.a.createElement("div",{className:"row wbdv-search-area-top"},n.a.createElement("div",{className:"col-6 font-weight-bold"},"Search Results"),n.a.createElement("div",{className:"col-6 text-right font-weight-bold"},"Page ",this.state.page)),n.a.createElement("div",{className:"row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4"},this.state.issues.map((function(e){return n.a.createElement(v,{id:e.id,issue:e})}))),n.a.createElement("div",{className:"wbdv-search-bottom-buttons"},this.state.page>2&&n.a.createElement("div",{className:"btn wbdv-page-btn font-weight-bold",onClick:function(){return e.search(1)}},"1"),this.state.page>3&&n.a.createElement("span",{className:"font-weight-bold"},"..."),this.state.page>1&&n.a.createElement("div",{className:"btn wbdv-page-btn font-weight-bold",onClick:function(){return e.search(e.state.page-1)}},this.state.page-1),n.a.createElement("div",{className:"btn wbdv-page-btn wbdv-current-page font-weight-bold"},this.state.page),this.state.page<this.state.pageCount&&n.a.createElement("div",{className:"btn wbdv-page-btn font-weight-bold",onClick:function(){return e.search(e.state.page+1)}},this.state.page+1),this.state.page<this.state.pageCount-2&&n.a.createElement("span",{className:"font-weight-bold"},"..."),this.state.page<this.state.pageCount-1&&n.a.createElement("div",{className:"btn wbdv-page-btn font-weight-bold",onClick:function(){return e.search(e.state.pageCount)}},this.state.pageCount)))}}]),a}(n.a.Component),f=a(16),E=a.n(f),N=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"col"},n.a.createElement(d.b,{to:"/issue/".concat(this.props.issue.id)},n.a.createElement("img",{className:"wbdv-related-cover",src:this.props.issue.image.super_url,alt:"Card image cap"})))}}]),a}(n.a.Component),y=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={issue:null,related:[]},e.reload=function(){return b(e.props.match.params.id).then((function(e){return e.results})).then((function(t){e.setState({issue:t}),w(t).then((function(t){e.setState({related:t.results})}))}))},e.displayList=function(t,a){return t.name+(a<e.state.issue.character_credits.length-1?", ":"")},e.displayListTooltip=function(e,t){return" "+e.name},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.reload()}},{key:"componentDidUpdate",value:function(e,t,a){e.match.params.id!==this.props.match.params.id&&(window.scrollTo({top:0,behavior:"smooth"}),this.reload())}},{key:"render",value:function(){return this.state.issue?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-8"},n.a.createElement("div",{className:"wbdv-issue-info"},n.a.createElement("span",{className:"row"},n.a.createElement("div",{className:"col-lg-5"},n.a.createElement("img",{className:"wbdv-issue-cover",src:this.state.issue.image.super_url,alt:"Card image cap"})),n.a.createElement("span",{className:"col-lg-7 wbdv-basic-top-outer"},n.a.createElement("div",{className:"wbdv-top-add-area"},n.a.createElement("button",{className:"btn wbdv-add-btn float-right",onClick:function(){alert("This will eventually add this issue to the users collection.\nThe user will also be able to add information about the comic \nbook's grade and other details.")}},"+ Add")),n.a.createElement("div",{className:"wbdv-top-spacer"}),n.a.createElement("div",{className:"wbdv-top-info"},n.a.createElement("div",{className:"row wbdv-info-row",title:this.state.issue.name?this.state.issue.name:this.state.issue.volume.name+" #"+this.state.issue.issue_number},n.a.createElement("div",{className:"col-3 wbdv-info-row-column font-weight-bold"},"Name:"),n.a.createElement("div",{className:"col-9 wbdv-info-row-column text-right text-truncate"},this.state.issue.name?this.state.issue.name:this.state.issue.volume.name+" #"+this.state.issue.issue_number)),n.a.createElement("div",{className:"row wbdv-info-row"},n.a.createElement("div",{className:"col-4 wbdv-info-row-column font-weight-bold"},"Volume:"),n.a.createElement("div",{className:"col-8 wbdv-info-row-column text-right text-truncate"},this.state.issue.volume.name)),n.a.createElement("div",{className:"row wbdv-info-row"},n.a.createElement("div",{className:"col-4 wbdv-info-row-column font-weight-bold"},"Issue:"),n.a.createElement("div",{className:"col-8 wbdv-info-row-column text-right text-truncate"},this.state.issue.issue_number)),n.a.createElement("div",{className:"row wbdv-info-row"},n.a.createElement("div",{className:"col-6 wbdv-info-row-column font-weight-bold"},"Cover Date:"),n.a.createElement("div",{className:"col-6 wbdv-info-row-column text-right text-truncate"},this.state.issue.cover_date)),n.a.createElement("div",{className:"row wbdv-info-row"},n.a.createElement("div",{className:"col-6 wbdv-info-row-column font-weight-bold"},"In Store Date:"),n.a.createElement("div",{className:"col-6 wbdv-info-row-column text-right text-truncate"},this.state.issue.store_date?this.state.issue.store_date:"N/A"))),n.a.createElement("div",{className:"wbdv-top-spacer"}),n.a.createElement("div",{className:"wbdv-top-chars",title:this.state.issue.character_credits.map(this.displayListTooltip)},n.a.createElement("div",{className:"font-weight-bold wbdv-section-title"},"Characters"),this.state.issue.character_credits.map(this.displayList)))),n.a.createElement("div",{className:"wbdv-issue-description"},n.a.createElement("div",{className:"font-weight-bold wbdv-section-title"},"Description"),this.state.issue.description?E()(this.state.issue.description,{replace:function(e){var t=e.attribs,a=e.children;if(t)return t.href?n.a.createElement("a",{},Object(f.domToReact)(a)):void 0}}):"N/A"),n.a.createElement("div",{className:"wbdv-issue-related-header"},"Related Issues"),n.a.createElement("div",{className:"row row-cols-5 wbdv-cover-row"},this.state.related.map((function(e){return n.a.createElement(N,{id:e.id,issue:e})}))))),n.a.createElement("div",{className:"col-lg-4"},n.a.createElement("div",{className:"wbdv-issue-reviews"},n.a.createElement("span",{className:"row"},n.a.createElement("div",{className:"col-10"},n.a.createElement("div",{className:"wbdv-review-title"},"Reviews")),n.a.createElement("span",{className:"col-2 wbdv-review-add-col"},n.a.createElement("button",{className:"wbdv-review-add",onClick:function(){alert("This will eventually allow users to write a review about the \nparticular comic book issue")}},"+"))),n.a.createElement("ul",{className:"list-group wbdv-review-list"},n.a.createElement("li",{className:"list-group-item wbdv-review"},n.a.createElement("div",{className:"wbdv-review-user"},"John Wigner"),n.a.createElement("div",{className:"wbdv-review-text"},"Mephisto finally reveals his plan to the Surfer and shows him the image of, lost among billions on Earth, freezing and starving. If the Surfer pledges himself to Mephisto he will reunite them. The Surfer gives in and as a test Mephisto tells him")),n.a.createElement("li",{className:"list-group-item wbdv-review"},n.a.createElement("div",{className:"wbdv-review-user"},"John Wigner"),n.a.createElement("div",{className:"wbdv-review-text"},"Mephisto finally reveals his plan to the Surfer and shows him the image of, lost among billions on Earth, freezing and starving. If the Surfer pledges himself to Mephisto he will reunite them. The Surfer gives in and as a test Mephisto tells him")),n.a.createElement("li",{className:"list-group-item wbdv-review"},n.a.createElement("div",{className:"wbdv-review-user"},"John Wigner"),n.a.createElement("div",{className:"wbdv-review-text"},"Mephisto finally reveals his plan to the Surfer and shows him the image of, lost among billions on Earth, freezing and starving. If the Surfer pledges himself to Mephisto he will reunite them. The Surfer gives in and as a test Mephisto tells him")),n.a.createElement("li",{className:"list-group-item wbdv-review"},n.a.createElement("div",{className:"wbdv-review-user"},"John Wigner"),n.a.createElement("div",{className:"wbdv-review-text"},"Mephisto finally reveals his plan to the Surfer and shows him the image of, lost among billions on Earth, freezing and starving. If the Surfer pledges himself to Mephisto he will reunite them. The Surfer gives in and as a test Mephisto tells him")),n.a.createElement("li",{className:"list-group-item wbdv-review"},n.a.createElement("div",{className:"wbdv-review-user"},"John Wigner"),n.a.createElement("div",{className:"wbdv-review-text"},"Mephisto finally reveals his plan to the Surfer and shows him the image of, lost among billions on Earth, freezing and starving. If the Surfer pledges himself to Mephisto he will reunite them. The Surfer gives in and as a test Mephisto tells him")))))):n.a.createElement("div",null)}}]),a}(n.a.Component),S=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement(d.a,null,n.a.createElement(h,null),n.a.createElement("div",{className:"container"},n.a.createElement(u.a,{path:"/search/:query",exact:!0,component:g}),n.a.createElement(u.a,{path:"/issue/:id",exact:!0,component:y})))}}]),a}(n.a.Component);var j=function(){return n.a.createElement(S,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.06784243.chunk.js.map